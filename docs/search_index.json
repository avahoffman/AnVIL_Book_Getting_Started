[["index.html", "Getting Started on AnVIL About this Book", " Getting Started on AnVIL Katherine Cox, Ava Hoffman 2021-06-24 About this Book This book holds a collection of guides to help new AnVIL users set up their accounts and start doing research on the AnVIL platform. "],["introduction.html", "Chapter 1 Introduction", " Chapter 1 Introduction Welcome to the AnVIL Getting Started guide! In it you will find step-by-step instructions for setting up your accounts, as well as guides on how to use some of AnVIL’s key features. 1.0.1 What Is AnVIL? AnVIL is NHGRI’s Genomic Data Science Analysis, Visualization, and Informatics Lab-Space. It provides a platform for performing genomic data analysis on the cloud. 1.0.2 Does AnVIL Cost Money? Through AnVIL, you pay for computing resources as you use them. If you’d like to try it out, new users can claim a $300 Google Cloud credit to test out the platform and perform some small analyses. We also provide a cost estimator. 1.0.3 Where Can I Get Help? Please visit our community support forum at help.anvilproject.org with any questions (or suggestions!) you may have. 1.0.4 How to Use This Book This book is not intended to be read through sequentially, rather, it is a collection of guides that you can reference based on your needs. It is divided into two major sections: Getting Started Provides step-by-step instructions for new AnVIL users to set up their accounts and start using the AnVIL platform. We have included recommendations for configuring your accounts based on several common use cases: PIs and Lab Managers: managing a team of researchers working on AnVIL Data Analysts: joining a team working on AnVIL Instructors: using AnVIL to teach a course or Workshop Working on AnVIL Examples and walkthroughs of common tasks on the AnVIL platform: Tools: how to run common tools including Jupyter Notebooks, Galaxy, and RStudio Data: how to find and access AnVIL datasets, as well as upload and manage your own data Workflows: how to find and run existing automated data processing pipelines, and how to customize and share your own 1.0.5 Activate scroll_highlight Feature Note that some sections of this book cover steps in a lot of detail. When navigating the table of contents, you can click subsection (e.g., 2.2, 4.2) headers a second time to expand the table of contents and enable the scroll_highlight feature. This can help you follow the separate steps within more clearly. "],["pis-and-lab-managers.html", "Chapter 2 PIs and Lab Managers", " Chapter 2 PIs and Lab Managers This chapter is targeted towards people who are responsible for bringing a team to AnVIL. Broadly targeted towards principal investigators (PIs), but also relevant to team leads or lab managers, you will find here: Overview – Design philosophy and goals for this guide - is this a good fit for your team? What should you know before you start? Account Setup – Step-by-step instructions to create your first accounts on AnVIL and connect your team members Planning Guide – Questions to help you customize your analysis environment (coming soon!) Budget Templates – Example documents to help you write AnVIL into your grant IRB Templates – Example language to help you write AnVIL into your IRB application "],["overview.html", "2.1 Overview", " 2.1 Overview 2.1.1 Goals for This Guide 2.1.2 Design Philosophy This guide provides an opinionated walkthrough on how to set up AnVIL for your lab, based on experiences from many labs actively using AnVIL. These step-by-step instructions take team leads that are completely new to the AnVIL through account setup to the point where team members can start working on AnVIL. Following the recommendations in this guide will help you more clearly see where charges are coming from and have greater control over which users can spend your money and access your data. In support of these goals we have made the following design decisions: COST CONTROL Prevent charges to your funding account until you explicitly give authorization by starting with Google’s free $300 credit program Control who can charge to your account by limiting who can “share” permission to compute - yourself and any designated “Lab Managers” COST TRANSPARENCY Allow fine-grain accounting of who spent what by creating individual “Billing Projects” for each user Monitor costs by setting up email alerts to warn you when you reach spending thresholds Enable detailed analysis of costs by exporting cost data using BigQuery DATA ACCESS CONTROLS Reduce unwanted access by limiting who can “share” your data and analyses - yourself and any designated “Lab Managers” Stricter data access management can be enforced through “Authorization Domains”; however this can make future sharing and publication difficult. This guide recommends avoiding Authorization Domains for most uses, especially as you are starting out. If you are working with highly sensitive data, see this documentation for more information. These design decisions are made to help you get up and running as quickly as possible without overwhelming new users. As your experience and comfort with AnVIL grows, you will likely change your design to better match your unique needs e.g. enabling Authorization Domains when working with protected data. 2.1.3 Before You Start You will need a credit card or bank account to activate your free trial and get started. Don’t worry! You won’t be billed until you explicitly turn on automatic billing, but payment information is needed for verification purposes. Before setting up billing yourself, you may want to check with your institutional procurement office and see if they have a preferred account set-up method with Google (such as a third party reseller or an existing account). To add lab members, you will need to know the Google account they will use to access Terra. You can complete most setup steps without this information and then add them once you know the correct accounts. "],["account-setup.html", "2.2 Account Setup", " 2.2 Account Setup 2.2.1 Overview of Account Setup AnVIL uses Terra to run analyses. Terra operates on Google Cloud Platform, so you’ll pay for all storage and analysis costs through a Google account linked to Terra. The costs are the standard Google Cloud Platform fees for storing and moving data as well as executing an analysis. These costs are passed along through Terra without any markup. Create a Google account Set up Google Billing (and claim your free credits!). Add an administrator or viewer (optional) Link Terra to the Google Billing Account Create Terra Billing Projects Set budgets and alerts (optional, but highly recommended) Add users and Workspaces 2.2.1.1 Lab Management Roles While there are many ways to configure your lab, this guide defines the following roles and responsibilities: PI - The PI sets up the lab’s Google Cloud Account, creates its Google Billing Account(s), and Google Payment Method(s), links Terra with GCP, and invites Lab Managers to be Google Cloud “Billing Account Users.” Lab Manager (Optional) - A Lab Manager creates or clones Terra Workspaces and manages who can use those Workspaces. The Lab Manager is also responsible for creating one or more Terra Billing Projects configuring GCP budgets and alerts. Importantly, lab managers control who can spend lab money and should have an understanding of Google Cloud Billing and Terra Billing Projects. Depending on your lab, the PI may choose to be the only Lab Manager, or may appoint trusted lab members to assist. Data Analyst - A lab member who is granted write + can-compute access on one or more Terra Workspaces by a Lab Manager and who will run analyses in Terra. Data Analysts cannot share Terra Workspaces (this prevents them from enabling others to spend lab money). 2.2.2 Step 1: Create a Google Account Terra operates on Google Cloud Platform, so you will need a (free) Google account which will allow you to Access the Terra platform to manage team members, data, and analyses Access Google Cloud Platform to manage billing Receive alerts when spending reaches specified thresholds If you do not already have a Google account that you would like to use for accessing Terra, create one now. If you would like to create a Google account that is associated with your non-Gmail, institutional email address, follow these instructions. 2.2.3 Step 2: Set Up Google Billing Terra operates on Google Cloud Platform, and does not charge any markup. Rather than paying Terra or AnVIL, users set up billing directly with Google Cloud Platform. Make sure to use the same Google account ID you use to log into Terra for Google Cloud Billing. To set up billing, you must first create a Google “Billing Account”. You can create multiple Billing Accounts associated with your Google ID. We recommend creating separate Billing Accounts for different funding sources. 2.2.3.1 Create a Google Billing Account Log in to the Google Cloud Platform console using your Google ID. Make sure to use the same Google account ID you use to log into Terra. If you are a first time user, don’t forget to claim your free credits! If you haven’t been to the console before, once you accept the Terms of Service you will be greeted with an invitation to “Try for Free.” Follow the instructions to sign up for a Billing Account and get your credits. Choose “Individual Account”. This “billing account” is just for managing billing, so you don’t need to be able to add your lab members. You will need to give either a credit card or bank account for security. Don’t worry! You won’t be billed until you explicitly turn on automatic billing. You can view and edit your new Billing Account, by selecting “Billing” from the left-hand menu, or going direction to the billing console console.cloud.google.com/billing Clicking on the Billing Account name will allow you to manage the account, including accessing reports, setting alerts, and managing payments and billing. We will cover account management in greater detail below. At any point, you can create additional Billing Accounts using the Create Account button. We recommend creating a new Billing Account for each funding source. 2.2.3.2 Add Users or Viewers (optional) If you have a project manager or finance administrator who needs access to a Billing Account, you can add them with a few different levels of permissions. Generally the most useful are: Users have a great deal of power over spending - they can create new “Billing Projects” and control who can spend money on those projects. If you have a lab or accounts manager responsible for expenses, it may make sense to add them as a Billing Account User. If you wish to retain full control over who can spend money on GCP, you should not add any Users. Viewers can see the activity in the Billing Account but can’t make any changes. This can be useful for finance staff who need access to the reports, or for lab members to be able to see what their analyses are costing. Anyone you wish to add to the Billing Account will need their own Google ID. To add a member to a Billing Project: Log in to the Google Cloud Platform console using your Google ID. Navigate to Billing You may be automatically directed to view a specific Billing Account. If you see information about a single account rather than a list of your Billing Accounts, you can get back to the list by clicking “Manage Billing Accounts” from the drop-down menu. Check the box next to the Billing Account you wish to add a member to, click “ADD MEMBER”. Enter their Google ID in the text box. In the drop-down menu, mouse over Billing, then choose the appropriate role. Click “SAVE”. 2.2.4 Step 3: Add Terra to Google Billing Account This gives Terra permission to create projects and send charges to the Google Billing Account, and must be done by an administrator of the Google Billing Account. Terra needs to be added as a “Billing Account User”: Log in to the Google Cloud Platform console using your Google ID. Navigate to Billing You may be automatically directed to view a specific Billing Account. If you see information about a single account rather than a list of your Billing Accounts, you can get back to the list by clicking “Manage Billing Accounts” from the drop-down menu. Check the box next to the Billing Account you wish to add Terra to, click “ADD MEMBER”. Enter terra-billing@terra.bio in the text box. In the drop-down menu, mouse over Billing, then choose “Billing Account User”. Click “SAVE”. 2.2.5 Step 4: Create Terra Billing Projects This is how you enable Terra users to charge to the Google Billing Account. Note that Google will report charges at the level of Billing Projects. If you create only one Billing Project for your lab, you will not be able to see a breakdown of where charges are coming from. It is highly recommended that you create separate Billing Projects for each category of spending you would like to track. For example: A Billing Project for each lab member, if you would like to track individual spending A Billing Project for each analysis type, if you would like to track spending on e.g. RNA-seq vs. variant calling. A Billing Project for each cohort, if you would like to track spending per data set If you are uncertain, we recommend starting by setting up a Billing Project per lab member. This makes it easy to track lab member spending, and also makes it easier to cleanly shut down projects when a member leaves the lab. 2.2.5.1 Create a Billing Project Launch Terra and sign in with your Google account. Make sure to use the same Google account that you used to set up Google Billing. If this is your first time logging in to Terra, you will need to accept the Terms of Service. In the drop-down menu on the left, navigate to “Billing”. Click the triple bar in the top left corner to access the menu. Click the arrow next to your name to expand the menu. Click Billing. On the Billing page, click the plus icon to create a new Billing Project. If prompted, select the Google account to use. Make sure to use the same Google account that you used to set up Google Billing. If prompted, give Terra permission to manage Google Cloud Platform billing accounts. Enter a unique name for your Terra Billing Project and select the appropriate Google Billing Account. The name of the Terra Billing Project must: Only contain lowercase letters, numbers and hyphens Start with a lowercase letter Not end with a hyphen Be between 6 and 30 characters Be unique across all Google Billing Projects As mentioned above, we recommend creating separate Terra Billing Projects for each of your team members so you can track their spending. These Billing Projects can all be associated with the same Google Billing Account if they are all funded by the same source. 2.2.6 Step 5: Set Budgets and Alerts Cloud computing can save a great deal of money, time and effort by providing compute on an as-needed basis. However, care must be taken that users do not accidentally request excessive resources, or leave resources running when not needed. Unfortunately, there are two issues that make direct cost control difficult: The Google Cloud billing interface does not provide a way to automatically cancel computations when a spending threshold is reached Compute costs are reported with a delay (~1 day) As a PI or lab manager, there are some steps you can take to help monitor and limit spending: Be careful with members and permissions in your Billing Projects and Workspaces on Terra (see Adding Users and Workspaces for recommended setup) Most importantly, monitor your spending so you can shut down unnecessary expensive activities before they have time to accumulate. Terra provides extensive documentation and examples regarding cost management while working in the cloud We highly recommended you set budgets and alerts to notify you if spending starts to exceed expectations. This will make it easier to notice and shut down any accidental overspending. A good starting point is to set a monthly budget, and then set alerts at 50 percent and 90 percent of expected spend. You can add additional alerts if you desire. You can set a single Budget for your entire lab, set up individual budgets for each Billing Project, or even set budgets for certain subsets of your Billing Projects. This will depend on the size of your lab and how closely you want to monitor spending. More granular budgets make it quicker to notice and track down overspending from a particular project but mean you will get more emails every month. When setting budgets with broader scope, you can always find out which particular Billing Project is spending the money by checking in the GCP Billing interface. NOTE: that there may be some restrictions on the budgets and alerts you can set while you’re using GCP’s free credits. At the time of writing (Feb 2021) you are not able to set budgets for individual projects while you are using the GCP free credits, but can still set an overall budget. Any restrictions should be lifted when you upgrade to a paid account. 2.2.6.1 Set Alerts Log in to the Google Cloud Platform console using your Google ID. Navigate to Billing You may be automatically directed to view a specific Billing Account. If you see information about a single account (other than the one you’re interested in), you can get back to the list of all your Billing Accounts by clicking “Manage Billing Accounts” from the drop-down menu. Click on the name of the Billing Account you want to set alerts for. In the left-hand menu, click “Budgets &amp; alerts”. Click “Create Budget”. Enter a name for your budget, and then choose what you want to monitor. Click “Next”. For Budget Type, select “Specified amount”. Enter the total budget amount for the month (you will set alerts at different thresholds in the next step). Click “Next” (not “Finish”). Enter the threshold amounts where you want to receive an alert. We recommend starting with 50% and 90%. You can set other alerts if you prefer. Check the box for “Email alerts to billing admins and users”. Click “Finish”. Now you (as the owner and admin), along with anyone you added with admin or user privileges (e.g lab managers) will receive alerts when your lab members reach the specified spending thresholds. These emails will be sent to the Gmail accounts associated with the Billing Account. You can edit your budgets at any time by going to Billing &gt; Budgets &amp; alerts, and clicking on the name of the budget you want to edit. 2.2.6.2 Export Cost Data to BigQuery Coming soon – instructions on how to export your cost data so you can better analyze and control your expenses. 2.2.7 Step 6: Add Users and Workspaces Finally, back on Terra, you can add lab members and give them permission to run analyses funded through your Billing Projects. There are two primary ways to permit users to charge to your Billing Projects: Add them directly to the Billing Project. This gives them flexibility to create and manage their own Workspaces, but reduces your control over spending. Anyone they add to their Workspaces with sufficient permissions (i.e. permission to compute) can charge to your Billing Project. Create a Workspace yourself, and add them to the Workspace (or have a designated Lab Manager responsible for managing Workspaces). This gives you much more control over who can charge to your Billing Project. Billing permissions on Terra can be confusing. For this reason, We recommend starting by having a single person responsible for managing all Workspaces (either yourself or a trusted “lab manager”). This person should create all Workspaces and add lab members as Writers (not Owners) to the Workspaces. This provides the greatest control over spending. Once you are familiar with the permissions system and are certain your lab members understand the implication of different permission settings, you may decide to give them greater control over Workspace access. 2.2.7.1 Create a New Workspace Launch Terra In the drop-down menu on the left, navigate to “Workspaces”. Click the triple bar in the top left corner to access the menu. Click “Workspaces”. Click on the plus icon near the top of left of the page. Name your Workspace and select the appropriate Billing Project. All activity in the Workspace will be charged to this Billing Project (regardless of who conducted it). If you are working with protected data, you can set the Authorization Domain to limit who can be added to your Workspace. Note that the Authorization Domain cannot be changed after the Workspace is created (i.e. there is no way to make this Workspace shareable with a larger audience in the future). Workspaces by default are only visible to people you specifically share them with. Authorization domains add an extra layer of enforcement over privacy, but by nature make sharing more complicated. We recommend using Authorization Domains in cases where it is extremely important and/or legally required that the data be kept private (e.g. protected patient data, industry data). For data you would merely prefer not be shared with the world, we recommend relying on standard Workspace sharing permissions rather than Authorization Domains, as Authorization Domains can make future collaborations, publications, or other sharing complicated. Click “Create Workspace”. The new workspace should now show up under your Workspaces. To start, we recommend creating one Workspace for each lab member (associated with that lab member’s Billing Project, if you have created separate Billing Projects for your lab members). This will enable you and your lab members to familiarize yourself with Workspaces and decide how best to organize your work. You can then create additional Workspaces as needed (there are no limits on the number of Workspaces). 2.2.7.2 Add Members to Workspaces Lab members must have logged in to Terra at least once before they can be added to your Billing Projects and Workspaces (they do not need to log in to Google Cloud Console). Launch Terra In the drop-down menu on the left, navigate to “Workspaces”. Click the triple bar in the top left corner to access the menu. Click “Workspaces”. Click on the name of the Workspace to open the Workspace. Opening a Workspace does not cost anything. Certain activities in the Workspace (such as running an analysis) will charge to the Workspace’s Billing Project. Workspace management (e.g. adding and removing members, editing the description) does not cost money. Click the circle with 3 dots on the right hand side to open the Workspace management menu. Click “Share” Enter the email address of the user you want to share the Workspace with. This must be the address associated with the account they are using to access Terra. Choose their permission level. We recommend adding lab members as Writers to start. This gives them permission to freely use the Workspace, (adding and removing data, conducting analyses, etc.) but prevents them from adding additional members who could charge to your Billing Project. “Can compute” should be checked “Can share” should NOT be checked Click “Save”. The user should now be able to see the Workspace when logged in to Terra. 2.2.7.3 User Access Levels and Permissions Managing permissions for your Workspace has important implications: Billing: Terra charges are associated with Workspaces rather than users. Any billable activity that takes place in a given Workspace will be charged to the associated Billing Project, regardless of who conducted the activity. If there are multiple users with permission to compute, you won’t be able to tell who conducted the activity. Data access: Especially when working with protected data, it’s important to ensure that users have proper authorization to view the data before giving them access to a Workspace containing the data. Terra provides Authorization Domains to assist with this. In general we recommend: Writers: Lab members who need permission to compute (and charge to your Billing Project). Readers: All other users (i.e. users who need to see the Workspace but should not charge to your Billing Project). Readers can always “clone” the Workspace (creating a copy of it associated with their own Billing Project) if they want to run computations themselves. If working with protected data, take advantage of Authorization Domains to increase security. More details about the permissions associated with each Access Level can be found in the Terra documentation. 2.2.8 Wrap-Up Congratulations! You have successfully set up AnVIL for your lab! Your lab members should be free to carry out analyses in the Workspaces you created. You should not need to do any further configuration through Terra until you decide to add or change user permissions for your Billing Projects and Workspaces. You can view costs at any time through Google Cloud Billing. Note that costs are reported with a delay (~1 day). "],["planning-guide.html", "2.3 Planning Guide", " 2.3 Planning Guide Coming soon – advice on how to customize AnVIL for your team and research projects. "],["budget-templates.html", "2.4 Budget Templates", " 2.4 Budget Templates If you want to apply for a grant and you plan to use the AnVIL platform for data storage, data movement, and data analysis, you can include the anticipated costs in your proposal. We have created a template for the budget justification paragraph of your grant proposal. The documents described in the following provide you with insightful knowledge. 2.4.1 Types of Costs There are three types of costs that are typically occur when performing operations on the Google Cloud Platform. 1. Cost for Computing is driven by your particular CPU and memory requirements. Importantly, you can save money if your work can tolerate being interrupted (also known as a preemptible compute resource). In this case, you pay less per hour with the understanding that your work may be interrupted by a customer willing to pay more. Details and current pricing can be found here. 2. Cost for Storage is driven by the amount of data and the length of time you wish to store the data. Here, you can save money if you have data that you do not plan to access frequently. This would be the case for raw data that has already been processed, backups, and archives. Details and current pricing can be found here. 3. Cost for Network Usage (egress) applies to data being transferred out of a Cloud resource. In this context, a Cloud resource refers to a set of computers in a particular region. This would apply, for example, if you transferred data from Google’s East Coast computers to Amazon’s West Coast computers. In general, while it’s free to upload data to the Cloud, you will incur costs when downloading data to your local computer or between Cloud regions. Details and current pricing can be found here. 2.4.2 Usage of Budget Templates In a first step, you can use the template Google Sheet AnVIL_Cost_Estimator to calculate costs for computing, storage, and network usage (egress) for your proposal. In a second step, you can use the template Google Doc AnVIL_Budget_Justification to create a budget justification paragraph for your proposal by including the information highlighted in pink (mostly copying entries from your Google Sheet AnVIL_Cost_Estimator). Please download and adapt both documents to your project. Please check that the prices are up to date by using the links listed below or in the AnVIL_Cost_Estimator. For further guidance, you can have a look at a completed document AnVIL_Budget_Justification_Example. "],["irb-templates.html", "2.5 IRB Templates", " 2.5 IRB Templates If you plan to use the AnVIL platform for data storage, data movement, and data analysis, you will likely need to provide information about AnVIL in your IRB application. While all IRBs will have different questions and requirements, there are general areas of concern that are common across IRB applications. The following sections provide general information about AnVIL as well as examples of language addressing some of these concerns. 2.5.1 General Information When writing an IRB research plan you will be required to fill out a few fields about data collection and data storage. The following sections provide the information that you will need for these IRB sections. There is also language regarding consent, with some suggested text that you may include in the IRB research plan and your consent form. An IRB usually addresses data storage. If you are using AnVIL, you should know that the storage is on Google Cloud Platform, so it is encrypted, it is not stored on a secure server, and it is backed up through multi-site replication. Important things to know about AnVIL security are that there are four key design concepts: Authenticate: All components require authentication at every step, not just the perimeter Authorize: All data requires explicit authorization to access Audit: All data access is logged (to a different system), with alerts for anomalous events Encrypt: All data-in-transit and all data-at-rest is encrypted. There is language in the AnVIL_IRB document about data storage, which you will need for your research plan. There is also a section about privacy and confidentiality, which you will also need. 2.5.2 Description of AnVIL The NHGRI Genomic Data Science Analysis, Visualization, and Informatics Lab-Space, or AnVIL provides a collaborative environment for creating and sharing data and analysis workflows for both users with limited computational expertise and sophisticated data scientist users. The platform is built on a set of established components that have been used in a number of flagship scientific projects. The Terra platform provides a compute environment with secure data and analysis sharing capabilities. Dockstore provides standards based sharing of containerized tools and workflows. The Gen3 data commons framework provides data and metadata ingest, querying, and organization. Bioconductor and Galaxy provide environments for users at different skill levels to construct and execute analyses. 2.5.3 Data Storage We will keep a copy of the participant’s genomics data in various data formats (formats - CRAMs, BAMs, vcfs, BCLs, fastqs). This will be stored in Broad’s Google Cloud services, which is the underlying storage platform for AnVIL. The Google Cloud Platform has summarized its services with respect to genomics data processing in a white paper here: https://cloud.google.com/genomics/resources/google-genomics-whitepaper.pdf 2.5.4 Privacy and Confidentiality There is a small risk of loss of privacy and confidentiality for the participant and their personal health information. While it is unlikely, there is a possibility that genetic information could be seen by unauthorized individuals. Researchers who will have access to genetic information about participants will take measures to maintain the privacy of the participant and confidentiality of their information. Terra (powered by Broad Genomics’ Workbench) is operated by the Broad Institute at the FISMA (Federal Information Systems Management Act) “moderate” level and received Authority to Operate from NCI and NIH in May of 2016. FISMA is a practice of documentation, audit, and organizational risk acceptance. It is centered on the controls outlined in NIST (National Institute of Standards and Technology) Special Publications 800-30 and 800-53. Covered topics include: Network penetration testing and assessment by a Federally authorized outside firm Maintaining system logs separate from the primary system for forensic analysis Regular review of logs and changes by an in-house auditor Security training and background screening for staff with elevated access to the system Documented procedures to respond to security incidents The Terra portal and its underlying platform, Broad Genomics’ Workbench, are hosted on Google’s Cloud Services. See below for details. Since Terra requires that users utilize Google logins, the application operates on top of Google’s world-class security that protects from nation-state level attacks. Terra supports the use of Google’s 2 Factor authentication as well. As a FISMA Moderate system, all logs are audited continually and various levels of security layering are required. These include Web Application Firewalls, weekly scanning, code scanning (dynamic and static), dependency scanning and manual penetration testing. Data analysis is constrained to computing nodes that are sandboxed using Docker within Google’s Pipelines API. Google undergoes several independent third party audits on a regular basis to provide verification of security, privacy and compliance controls including annual audits for SSAE 16/ISAE 3402 Type II. Google’s infrastructure provides reliable information security that can meet or exceed the requirements of HIPAA and protected health information. Broad Information Security &amp; Compliance Team provides risk review and consulting security services for legacy, current, and future computing infrastructure, applications, and information services across the enterprise. Risk management and mitigation services are also provided to assist business units with meeting regulatory requirements. The team also takes a lead role in incident response processes, including network, system, and data forensic efforts and is responsible for developing and ensuring proper review of all security policies, standards, and procedures. The Senior Director of Information Security &amp; Compliance (DISC) facilitates the development and maintenance of the information security program, leads the development of information security policies, standards and procedures, and collaborates with business and system owners in understanding their security responsibilities. The DISC also promotes consistency in the development and implementation of strategic initiatives and policies based on industry and regulatory standards (FISMA, etc). The Broad Institute has a strong commitment to information security, appropriate use of data, compliance with applicable regulations, and respect for data privacy. 2.5.5 Consent Questions 2.5.5.1 Types of Research We may use your sample to do other biological and genetic research. Genetic research may include looking at some or all of your genes and DNA to see if there are links to different types of health conditions. We may use your sample and your DNA sequence information to help create new analytical and machine learning methods to look at genomic and clinical data. We may share your samples, your DNA sequence information, your health information, and results from our research results with other data banks, such as those sponsored by the National Institutes of Health, so that researchers from around the world can use them to study many conditions. A code will be assigned to your samples and health information. Your name, medical record number, or other information that easily identifies you will not be stored with your samples or health information. The key to the code that connects your name to your samples and information will be stored securely in a controlled access database. This method is discussed more below. 2.5.5.2 Data Repository Submission Your individual genomic data and health information may be put in a controlled-access data commons. This means that only researchers who apply for and get permission to use the information for a specific research project will be able to access the information. If this happens, your genomic data and health information will not be labeled with your name or other information that could be used to identify you. Your data and information will be entered in the database with the random study identifier created by the research team. Researchers approved to access information in the database will agree not to attempt to identify you. 2.5.5.3 Potential Risks Every research study involves the risk of loss of privacy. The personal information that will be associated with your WGS cannot typically be used to identify you. However, it is possible that in the future there may be a way to link stored genomic information back to you. We believe that the possibility of this is low. Your information will be stored on a cloud-computing storage system administered by The Broad Institute. 2.5.6 Additional Considerations Workspace access controls https://support.terra.bio/hc/en-us/articles/360025851892 PIs can grant read / write / compute access, and can revoke access. Authorization Domains https://support.terra.bio/hc/en-us/articles/360026775691 Must be setup when a Workspace is created - prevents accidental sharing "],["data-analysts.html", "Chapter 3 Data Analysts", " Chapter 3 Data Analysts 3.0.1 Introduction This chapter is targeted towards people who are joining an existing team on AnVIL. You will find here: Account Setup – Step-by-step instructions to create your first accounts on AnVIL Using Workspaces – Workspaces are how you carry out analyses on AnVIL (coming soon!) "],["account-setup-1.html", "3.1 Account Setup", " 3.1 Account Setup Terra is the compute engine of AnVIL; i.e. where you will run your analyses. Terra currently offers access to Jupyter Notebooks and RStudio for interactive analysis, as well as the Workflow Description Language (WDL) for batch processing of many samples. Behind the scenes, Terra runs on Google Cloud Platform, so you will need a (free) Google Account. 3.1.1 Overview Create a Google account Launch Terra and sign in with your Google account Link external accounts (Gen3, dbGaP) to Terra (optional - enables you to import AnVIL open access datasets and to access protected data if you have appropriate authorization) 3.1.2 Create a Google Account Terra operates on Google Cloud Platform, so you will need a (free) Google account to create a Terra account and run analyses on AnVIL. If you do not already have a Google account that you would like to use for accessing Terra, create one now. If you would like to create a Google account that is associated with your non-Gmail, institutional email address, follow these instructions. 3.1.3 Set Up Terra Launch Terra, and you should be prompted to sign in with your Google account. Once you have signed in, your Terra account is set up and your PI or manager should be able to add you to projects. If this is the first time you or your team has used Terra, the PI will also need to set up billing. You can always access Terra by going to anvil.terra.bio, or by clicking the link on the AnVIL home page. 3.1.4 Link External Accounts (optional) AnVIL provides access to a wide selection of datasets, including controlled-access data. Linking your accounts will enable you to import these data into Terra. The following links will take you to the Terra documentation for setting up and linking external accounts. Set up a Gen3 account - allows you to use the Gen3 data explorer to create artificial cohorts over AnVIL datasets that have been indexed by Gen3. Link Gen3 and Terra accounts - allows you to analyze Gen3 data on Terra. Link Terra and eRA Commons ID - To use controlled-access data on Terra, you will need to link your Terra user ID to your authorization account (such as a dbGaP account). Linking to external servers will allow Terra to automatically determine if you can access controlled datasets hosted in Terra (ex. TCGA, TOPMed, etc.) based on your approved dbGaP applications. "],["instructors.html", "Chapter 4 Instructors", " Chapter 4 Instructors This chapter is targeted towards people who are teaching a course or workshop on AnVIL. Overview Account Setup Developing Content Class Setup Class Ending Student Account Setup Please click on the subsection headers in the left hand navigation bar (e.g., 2.2, 4.2) a second time to expand the table of contents and enable the scroll_highlight feature (see more). "],["overview-2.html", "4.1 Overview", " 4.1 Overview 4.1.1 Goals for This Guide 4.1.2 Design Philosophy Account Setup Developing Content Class Setup 4.1.3 Before You Start "],["account-setup-2.html", "4.2 Account Setup", " 4.2 Account Setup Please click on the subsection headers in the left hand navigation bar (e.g., 2.2, 4.2) a second time to expand the table of contents and enable the scroll_highlight feature (see more). 4.2.1 Overview of Account Setup 4.2.2 Step 1: Create a Google Account 4.2.3 Step 2: Set Up Google Billing 4.2.4 Step 3: Add Terra to Google Billing Account 4.2.5 Step 4: Create a Terra Billing Project 4.2.6 Step 5: Set Up Alerts 4.2.7 Step 6: Create First Workspace 4.2.8 Wrap-Up "],["developing-content.html", "4.3 Developing Content", " 4.3 Developing Content 4.3.1 Overview 4.3.2 Setup AnVILPublish Using AnVIL 4.3.3 Update Dashboard 4.3.4 Post Jupyter Notebook "],["class-setup.html", "4.4 Class Setup", " 4.4 Class Setup 4.4.1 Identify Funding 4.4.2 Set Up Billing Project 4.4.3 Collect Student IDs 4.4.4 Set Up Permissions 4.4.4.1 Add students as “Member” 4.4.4.2 Add Group as “Reader” 4.4.4.3 Add Group as “User” "],["class-ending.html", "4.5 Class Ending", " 4.5 Class Ending 4.5.1 Notify Students 4.5.2 Disable Billing "],["student-account-setup.html", "4.6 Student Account Setup", " 4.6 Student Account Setup 4.6.1 Create a Google Account 4.6.2 Set Up Terra 4.6.3 Provide ID to Instructor "],["tools.html", "Chapter 5 Tools ", " Chapter 5 Tools "],["starting-jupyter-notebook.html", "5.1 Starting Jupyter Notebook", " 5.1 Starting Jupyter Notebook 5.1.1 Objectives Start compute for your Jupyter environment Create notebook to perform analysis Stop compute to minimize expenses 5.1.2 Slides The slides for this tutorial are are located here. "],["starting-rstudio.html", "5.2 Starting RStudio", " 5.2 Starting RStudio 5.2.1 Objectives Start compute for your RStudio environment Tour RStudio on AnVIL Stop compute to minimize expenses 5.2.2 Slides The slides for this tutorial are are located here. "],["starting-galaxy.html", "5.3 Starting Galaxy", " 5.3 Starting Galaxy 5.3.1 Objectives Start compute for your Galaxy on AnVIL Run tool to quality control sequencing reads Stop compute to minimize expenses 5.3.2 Slides The slides for this tutorial are are located here. "],["data.html", "Chapter 6 Data ", " Chapter 6 Data "],["introduction-2.html", "6.1 Introduction", " 6.1 Introduction 6.1.1 Who is this guide for? 6.1.2 What’s in this guide? "],["workflows.html", "Chapter 7 Workflows ", " Chapter 7 Workflows "],["introduction-3.html", "7.1 Introduction", " 7.1 Introduction 7.1.1 Who is this guide for? 7.1.2 What’s in this guide? "],["security.html", "A Security ", " A Security "],["introduction-4.html", "A.1 Introduction", " A.1 Introduction A.1.1 Who is this guide for? A.1.2 What’s in this guide? "],["billing.html", "B Billing ", " B Billing "],["introduction-5.html", "B.1 Introduction", " B.1 Introduction B.1.1 Who is this guide for? B.1.2 What’s in this guide? "],["overview-videos.html", "C Overview Videos", " C Overview Videos AnVIL – Streamlining Accessibility and Computability of Large-scale Genomic Datasets – 4m58s 9/30/20 Workspaces – Introduction to using Workspaces in Terra – 9m52s 4/5/20 Jupyter – Interactive Analysis using a Jupyter Notebook in Terra – 9m40s 5/7/20 RStudio – A sneak preview of RStudio in Terra – 6m57s 1/22/21 Galaxy – Galaxy on AnVIL Walkthrough – 5m50s 12/9/20 Data Tables – Introduction to Data Tables in Terra – 5m25s 4/5/20 Dockstore – Importing a GATK workflow from Dockstore into Terra – 8m29s 10/15/20 Workflows – Configuring and running a GATK workflow on Gen3 data in Terra – 28m10s 11/25/20 "],["about-the-authors.html", "About the Authors", " About the Authors Katherine Cox Ava Hoffman is a Research Associate in the Department of Biostatistics at Johns Hopkins University. "]]
